<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Account Details</title>
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/css/bootstrap.min.css" rel="stylesheet"
          integrity="sha384-EVSTQN3/azprG1Anm3QDgpJLIm9Nao0Yz1ztcQTwFspd3yD65VohhpuuCOmLASjC" crossorigin="anonymous">
    <link rel="stylesheet" href="assets/css/main.css">
</head>
<body>
<div>                         <!--Navbar-->
    <nav class="navbar navbar-expand-lg navbar-dark bg-dark">
        <div class="container-fluid d-flex">
            <div class = "justify-content-start">
                <a class="navbar-brand" href="index.html">Music Madness</a>
                <ul class="navbar-nav me-auto my-2 my-lg-0 navbar-nav-scroll navbar-light">
                    <li class="nav-item">
                        <a class="nav-link active" aria-current="page" href="index.html">Shop</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#vinyl">Vinyl</a>
                    </li>

                    <li class="nav-item">
                        <a class="nav-link" href="#cds">CD's</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="#movies">Movies</a>
                    </li>
                    <li class="nav-item">
                        <a class="nav-link" href="contactUs.html">Contact Us</a>
                    </li>
            </div>
            <div class = "d-flex justify-content-end">

                <ul class = "navbar-nav mb-lg-0" id = "loginNavbar">
                    <li class = "nav-item d-flex">
                        <a class = "nav-link active" aria-current = "page"  href = "loginPage.html" id = "login2">Login</a>
                        <a class = "nav-link active "  aria-current = "page"  href = "accountDetails.html" id = "accountDetails">Account Details</a>
                        <a class = "nav-link active " aria-current = "page"  href = "index.html" onlick = "localstorage.setItem('checkedlogged' , 'logout')" id = "logout">Log Out</a>
                    </li>
                </ul>

                <div>
                    <form class = "container-fluid justify-content-start">
                        <a class = "btn btn-outline-secondary" href = "shoppingCart.html" role = "button" id = "cartButton">Cart<span class="badge" id = "cartCounter"></span></a>
                    </form>
                </div>

                </ul>
            </div>
        </div>

    </nav>
</div>



<form>
    <div class="mb-3">
        <label for="name2" class="form-label">Name</label>
        <input type="text" class="form-control" id="name2">

    </div>
    <div class="mb-3">
        <label for="email2" class="form-label">Email address</label>
        <input type="email" class="form-control" id="email2" aria-describedby="emailHelp">
        <div id="emailHelp" class="form-text">We'll never share your email with anyone else.</div>
    </div>

    <div class="mb-3">
        <label for="password2" class="form-label">Password</label>
        <input type="password" class="form-control" id="password2">
    </div>

    <div class="mb-3">
        <label for="number2" class="form-label">Phone Number</label>
        <input type="number" class="form-control" id="number2">
    </div>

    <div class="mb-3">
        <label for="address2" class="form-label">Address</label>
        <input type="text" class="form-control" id="address2">
    </div>

    <button type="submit" id = "updateDetails" class="btn btn-primary">Update Details</button>
</form>







<script src="https://cdn.jsdelivr.net/npm/bootstrap@5.0.2/dist/js/bootstrap.bundle.min.js"
        integrity="sha384-MrcW6ZMFYlzcLA8Nl+NtUVF0sA7MsXsP1UyJoMp4YLEuNSfAP+JcXn/tWtIaxVXM" crossorigin="anonymous"></script>

<script>
    window.onload = function (){
        if (localStorage.getItem('checkedlogged') === 'login')
        {
            document.getElementById('login2').style.display = 'none';
            document.getElementById('accountDetails').style.display = 'block';
            document.getElementById('logout').style.display = 'block';

            document.getElementById('name2').value = localStorage.getItem('name');
            document.getElementById('email2').value = localStorage.getItem('email');
            document.getElementById('number2').value = localStorage.getItem('number');
            document.getElementById('address2').value = localStorage.getItem('address');
            document.getElementById('password2').value = localStorage.getItem('password');
        }
        document.getElementById('cartCounter').innerHTML = localStorage.getItem('cartTotalItems');
    }

    document.getElementById('updateDetails').addEventListener("click" , updateDetails , false);
    function updateDetails() {
        let name = document.getElementById('name2').value;
        let email = document.getElementById('email2').value;
        let number = document.getElementById('number2').value;
        let address = document.getElementById('address2').value;
        let password = document.getElementById('password2').value;

        localStorage.setItem('name', name);
        localStorage.setItem('email', email);
        localStorage.setItem('number', number);
        localStorage.setItem('address', address);
        localStorage.setItem('password', password);

        alert("Details Updated");
    }
</script>


</body>
<footer class = "footer">&copy; Copyright 2021 Music Madness</footer>
</html>